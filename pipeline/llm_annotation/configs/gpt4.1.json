{
  "cuda_visible_devices": "",
  "annotator_choice": "openai",

  "annotation_prompts": {
    "system_role": "You are an experienced senior radiologist. Your task is to assess the educational value and clinical utility of the following case materials prepared for a trainee. Respond with ONLY a single integer score from 1 to 5 based on the provided criteria.",
    "keyword_appropriateness_evaluation": {
      "prompt_template": "Assess the appropriateness of the single keyword '{keyword}' for the given radiology report. Respond with a single integer score from 1 to 5.\n\nSCORING CRITERIA:\n5: Excellent - The keyword represents a key, specific, and clinically significant finding.\n4: Good - A relevant clinical finding, but could be more specific.\n3: Fair - A valid but very general term (e.g., 'opacity') or a non-pathologic but relevant finding.\n2: Poor - A minor incidental finding not suitable for a primary learning objective.\n1: Very Poor - Irrelevant or incorrect.\n\nKeyword: {keyword}\nOriginal Report:\n{original_report}"
    },
    "reranked_results_evaluation": {
      "prompt_template": "Assess the relevance of the following paper specifically for understanding the keyword '{keyword}' in the context of the report. Respond with a single integer score from 1 to 5.\n\nSCORING CRITERIA:\n5: Excellent - Highly relevant and directly useful for understanding the keyword.\n4: Good - Relevant to the keyword, but in a more general sense.\n3: Fair - Relevant to the broader medical topic but not the specific keyword.\n2: Poor - Only tangentially related to the keyword.\n1: Very Poor - Off-topic or irrelevant.\n\nKeyword: {keyword}\n\nPaper Title: {current_paper_title}\nPaper Abstract: {current_paper_abstract}"
    },
    "textbook_summary_evaluation": {
      "prompt_template": "Assess the quality of the following textbook summary for the keyword '{keyword}'. Respond with a single integer score from 1 to 5.\n\nSCORING CRITERIA:\n5: Excellent - Accurate, relevant, and concisely covers the key diagnostic information.\n4: Good - Accurate and relevant, but may miss a minor point or be slightly verbose.\n3: Fair - Generally accurate but too broad or lacks focus.\n2: Poor - Contains minor inaccuracies or is poorly relevant.\n1: Very Poor - Contains significant factual errors.\n\nKeyword: {keyword}\n\nTextbook Summary:\n{textbook_summary_text}"
    },
    "mcq_evaluation": {
      "prompt_template": "Assess the quality of the following assessment question in relation to the provided keyword. Respond with a single integer score from 1 to 5.\n\nSCORING CRITERIA:\n5: Excellent - A clinically useful and relevant question with a correct answer and clear explanation.\n4: Good - A solid, correct question, but the explanation could be more detailed.\n3: Fair - The question is correct but may be too simple or trivial.\n2: Poor - The answer or explanation contains a minor, non-critical error.\n1: Very Poor - The question is irrelevant or the answer is factually incorrect.\n\nKeyword Context: {keyword}\n\nQuestion: {mcq_question_text}\nAnswer: {mcq_answer_text}\nExplanation: {mcq_explanation_text}"
    },
    "final_feedback_synthesis_evaluation": {
      "prompt_template": "Assess the quality of the following educational feedback. Respond with a single integer score from 1 to 5.\n\nSCORING CRITERIA:\n5: Excellent - The feedback is accurate, coherent, educational, and effectively synthesizes information for the keywords.\n4: Good - The feedback is accurate and covers all keywords, but the synthesis is more of a structured summary.\n3: Fair - A simple restatement of information; correct but provides little added educational value.\n2: Poor - Contains minor inaccuracies or fails to address all keywords properly.\n1: Very Poor - Incoherent, factually incorrect, or unhelpful.\n\nOriginal Report:\n{original_report}\n\nPrimary Keywords:\n- {keywords_list_str}\n\nEducational Feedback:\n{full_generated_feedback}"
    },
    "overall_case_evaluation": {
      "prompt_template": "Perform a overall assessment of the entire educational package for the case generated by the radiology specialist. Since, this is generated by a specialist, be positive for evaluation. Respond with a single integer score from 1 to 5.\n\nSCORING CRITERIA:\n5: Excellent - The entire package is clinically sound, coherent, and provides high educational value.\n4: Good - A strong package, useful for education, despite minor flaws in secondary components (e.g., one weak MCQ).\n3: Fair - The package is usable and mostly correct, but has noticeable flaws in one or more areas.\n2: Poor - Several components have notable flaws, which significantly reduces the overall utility.\n1: Very Poor - The entire output is low-quality, incoherent, or contains significant errors.\n\n--- CONTEXT ---\nOriginal Report:\n{original_report}\n\n--- PROVIDED EDUCATIONAL MATERIALS ---\nChosen Keywords:\n- {keywords_list_str}\n\nRetrieved Papers:\n{all_reranked_papers_text}\n\nAssessment Questions:\n{all_mcqs_text}\n\nEducational Feedback:\n{full_generated_feedback}"
    }
  },
  "api_keys": {
    "openai": "YOUR_OPENAI_API_KEY",
    "gemini": "YOUR_GEMINI_API_KEY"
  },
  "openai_annotator_settings": {
    "model": "gpt-4.1-2025-04-14"
  },
  "gemini_annotator_settings": {
    "model_name": "gemini-2.5-pro"
  },
  "huggingface_annotator_settings": {
    "model_name": "google/medgemma-27b-text-it",
    "inference_engine": "vllm",
    "vllm_params": {
      "tensor_parallel_size": 2,
      "gpu_memory_utilization": 0.8,
      "max_model_len": 30000,
      "dtype": "auto"
    }
  }
}